<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìš°ë¦¬ ê°€ì¡± ëŒ€í™” ì¹´ë“œê²Œì„ ğŸ’š</title>
 <style>
body {
  font-family: 'Pretendard', sans-serif;
  background: #fefefe url('assets/family.png') no-repeat center bottom 80px/300px;
  text-align: center;
  color: #222;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  box-sizing: border-box;
}

h1 {
  font-size: 26px;
  margin: 20px 0 10px;
  line-height: 1.3;
}

input {
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 16px;
  margin-top: 10px;
  width: 160px;
  text-align: center;
}

button {
  padding: 12px 20px;
  margin-top: 15px;
  border: none;
  border-radius: 8px;
  background: #333;
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s;
}
button:hover {
  background: #111;
  transform: translateY(-2px);
}

#game {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  margin-top: 20px;
  width: 100%;
}

.card {
  width: 90%;
  max-width: 320px;
  height: 460px;
  perspective: 1000px;
  margin-top: 20px;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transition: transform 0.6s ease;
  transform-style: preserve-3d;
}

.card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-front, .card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  border: 1px solid #ccc;
  backface-visibility: hidden;
  background: rgba(255, 255, 255, 0.95) url('assets/heart.png') center 60px/60px no-repeat;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  padding: 20px;
  box-sizing: border-box;
}

.card-back {
  background: white url('assets/card-bg.png') center/cover no-repeat;
  transform: rotateY(180deg);
}

#question-main {
  font-size: 18px;
  font-weight: 500;
  white-space: pre-line;
  margin-top: 120px;
  padding: 0 10px;
  line-height: 1.4;
}

#sub-question {
  font-size: 14px;
  color: #777;
  margin-top: 10px;
  white-space: pre-line;
}

/* âœ… ëª¨ë°”ì¼ ëŒ€ì‘ */
@media (max-width: 480px) {
  h1 { font-size: 22px; }
  #game { margin-top: 10px; }
  .card { width: 92%; height: 380px; }
  .card-front, .card-back { padding: 16px; }
  #question-main { font-size: 15px; margin-top: 100px; }
  #sub-question { font-size: 13px; }
  button { font-size: 15px; padding: 10px 18px; }
}
</style>

</head>
<body>
  <h1>ìš°ë¦¬ ê°€ì¡± ëŒ€í™” ì¹´ë“œê²Œì„ ğŸ’š</h1>

  <div id="setup">
    <p>ì°¸ê°€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
    <input id="playerCount" type="number" min="1" placeholder="ì˜ˆ: 6" />
    <button onclick="startGame()">ë‹¤ìŒ â–¶</button>
  </div>

  <div id="name-setup" style="display:none;">
    <p>ê° ì°¸ê°€ìì˜ ì´ë¦„ì„ ìˆœì„œëŒ€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
    <div id="nameInputs"></div>
    <button onclick="beginGame()">ê²Œì„ ì‹œì‘ â–¶</button>
  </div>

  <div id="game">
    <h2 id="turn-indicator"></h2>

    <div class="card" id="questionCard" onclick="revealCard()">
      <div class="card-inner">
        <div class="card-front">
          <p>ì§ˆë¬¸ì„ ë½‘ì•„ ì£¼ì„¸ìš” ğŸ’«</p>
        </div>
        <div class="card-back">
          <div id="question-main"></div>
          <div id="sub-question"></div>
        </div>
      </div>
    </div>

    <button id="nextButton" onclick="nextPlayer()" style="display:none;">ë‹¤ìŒ ì‚¬ëŒ â–¶</button>
    <button id="reshuffleButton" onclick="reshuffleQuestion()" style="display:none;">ì§ˆë¬¸ ë‹¤ì‹œ ë½‘ê¸° â†»</button>
    <button id="finishButton" onclick="finishRound()" style="display:none;">ë§ˆë¬´ë¦¬í•˜ê¸° ğŸ’Œ</button>
  </div>

  <script>
    const questions = [
      { main: "í•˜ë£¨ ì¤‘ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ì‹œê°„ì€ ì–¸ì œì¸ê°€ìš”?", sub: "ê·¸ ì‹œê°„ì„ ì¢‹ì•„í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?" },
      { main: "ìš”ì¦˜ ë‹¹ì‹ ì´ ìì£¼ ìƒê°í•˜ëŠ” ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?", sub: "ê·¸ ì¼ì´ ë‹¹ì‹ ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ê°€ìš”?" },
      { main: "ì§€ê¸ˆ ê°€ì¥ ê³ ë§ˆìš´ ì‚¬ëŒì€ ëˆ„êµ¬ì¸ê°€ìš”?", sub: "ê·¸ ì‚¬ëŒì—ê²Œ ì „í•˜ê³  ì‹¶ì€ ë§ì´ ìˆë‚˜ìš”?" },
      { main: "ìµœê·¼ì— ê°€ì¥ ì›ƒì—ˆë˜ ìˆœê°„ì€ ì–¸ì œì˜€ë‚˜ìš”?", sub: "ê·¸ë•Œ í•¨ê»˜ ìˆì—ˆë˜ ì‚¬ëŒì€ ëˆ„êµ¬ì˜€ë‚˜ìš”?" },
      { main: "ìš”ì¦˜ ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?", sub: "ê·¸ í•„ìš”ë¥¼ ì±„ìš°ê¸° ìœ„í•´ ì–´ë–¤ ë…¸ë ¥ì„ í•˜ê³  ìˆë‚˜ìš”?" },
      { main: "ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ê³„ì ˆì€ ë¬´ì—‡ì¸ê°€ìš”?", sub: "ê·¸ ê³„ì ˆì„ ì¢‹ì•„í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?" },
      { main: "ìµœê·¼ì— ìŠ¤ìŠ¤ë¡œë¥¼ ì¹­ì°¬í•˜ê³  ì‹¶ì€ ì¼ì´ ìˆë‚˜ìš”?", sub: "ê·¸ ì¼ì„ í•˜ë©´ì„œ ì–´ë–¤ ê¸°ë¶„ì´ ë“¤ì—ˆë‚˜ìš”?" },
      { main: "ë‹¹ì‹ ì—ê²Œ ê°€ì¡±ì´ë€ ì–´ë–¤ ì˜ë¯¸ì¸ê°€ìš”?", sub: "ìµœê·¼ ê°€ì¡±ì—ê²Œ ëŠë‚€ ê°ì •ì´ ìˆë‚˜ìš”?" },
      { main: "ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ í•œë§ˆë””ë¡œ í‘œí˜„í•œë‹¤ë©´?", sub: "ê·¸ ë‹¨ì–´ë¥¼ ê³ ë¥¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?" },
      { main: "10ë…„ í›„ì˜ ë‚˜ëŠ” ì–´ë–¤ ëª¨ìŠµì¼ê¹Œìš”?", sub: "ê·¸ ë¯¸ë˜ë¥¼ ìœ„í•´ ì§€ê¸ˆ í•˜ê³  ìˆëŠ” ì¼ì´ ìˆë‚˜ìš”?" },
      { main: "ìµœê·¼ì— ëˆ„êµ°ê°€ì—ê²Œ ë°›ì€ ë”°ëœ»í•œ ë§ì€?", sub: "ê·¸ ë§ì´ ë‹¹ì‹ ì—ê²Œ ì–´ë–¤ ì˜í–¥ì„ ì£¼ì—ˆë‚˜ìš”?" },
      { main: "ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ì—¬í–‰ì§€ëŠ” ì–´ë””ì¸ê°€ìš”?", sub: "ê·¸ê³³ì—ì„œ ì–´ë–¤ ê²½í—˜ì„ í–ˆë‚˜ìš”?" },
      { main: "ê°€ì¡±ê³¼ í•¨ê»˜ ë³´ë‚¸ ê°€ì¥ ì¦ê±°ìš´ ì‹œê°„ì€ ì–¸ì œì¸ê°€ìš”?", sub: "ê·¸ë‚ ì„ ë‹¤ì‹œ ë³´ë‚´ê³  ì‹¶ë‚˜ìš”?" },
      { main: "ìš”ì¦˜ ë‹¹ì‹ ì´ ë°°ìš°ê³  ìˆëŠ” ê²ƒì´ ìˆë‹¤ë©´?", sub: "ê·¸ê²ƒì´ ë‹¹ì‹ ì„ ì–´ë–»ê²Œ ì„±ì¥ì‹œí‚¤ê³  ìˆë‚˜ìš”?" },
      { main: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í’€ê¸° ìœ„í•œ ë‚˜ë§Œì˜ ë°©ë²•ì€?", sub: "ê·¸ ë°©ë²•ì´ íš¨ê³¼ì ì¸ ì´ìœ ëŠ”?" },
      { main: "ê°€ì¡± ì¤‘ ëˆ„êµ¬ì™€ ëŒ€í™”ë¥¼ ë” ë‚˜ëˆ„ê³  ì‹¶ë‚˜ìš”?", sub: "ì–´ë–¤ ì£¼ì œë¡œ ì´ì•¼ê¸°í•˜ê³  ì‹¶ë‚˜ìš”?" },
      { main: "ìµœê·¼ ë‹¹ì‹ ì„ ê°ë™ì‹œí‚¨ ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?", sub: "ê·¸ ì¼ì„ í†µí•´ ë¬´ì—‡ì„ ëŠê¼ˆë‚˜ìš”?" },
      { main: "ìì‹ ì—ê²Œ í•´ì£¼ê³  ì‹¶ì€ ìœ„ë¡œì˜ ë§ì€?", sub: "ê·¸ ë§ì„ ì™œ ì„ íƒí–ˆë‚˜ìš”?" },
      { main: "ìš”ì¦˜ ë‹¹ì‹ ì´ ê°€ì¥ ìì£¼ ë“£ëŠ” ìŒì•…ì€?", sub: "ê·¸ ìŒì•…ì´ ì£¼ëŠ” ê°ì •ì€ ì–´ë–¤ê°€ìš”?" },
      { main: "ì˜¤ëŠ˜ ê°€ì¥ ê°ì‚¬í•œ ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?", sub: "ê·¸ ì¼ë¡œ ì¸í•´ ë‹¬ë¼ì§„ ì ì´ ìˆë‚˜ìš”?" },
      { main: "ì˜¤ëŠ˜ ì´ ìˆœê°„, ê°€ì¡±ì—ê²Œ í•œë§ˆë”” í•œë‹¤ë©´?", sub: "ê·¸ ë§ì„ ê¼­ ì „í•˜ê³  ì‹¶ì€ ì´ìœ ëŠ”?" }
    ];

    let playerCount = 0;
    let players = [];
    let currentPlayerIndex = 0;
    let usedQuestions = [];

    function startGame() {
      playerCount = parseInt(document.getElementById('playerCount').value);
      if (!playerCount || playerCount <= 0) return alert('ì°¸ê°€ ì¸ì›ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      document.getElementById('setup').style.display = 'none';
      const nameSetup = document.getElementById('name-setup');
      nameSetup.style.display = 'block';
      const nameInputs = document.getElementById('nameInputs');
      nameInputs.innerHTML = '';
      for (let i = 0; i < playerCount; i++) {
        nameInputs.innerHTML += `<input id="name${i}" placeholder="ì°¸ê°€ì ${i + 1} ì´ë¦„" /><br/>`;
      }
    }

    function beginGame() {
      players = [];
      for (let i = 0; i < playerCount; i++) {
        const name = document.getElementById(`name${i}`).value.trim();
        if (!name) return alert('ëª¨ë“  ì°¸ê°€ìì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        players.push(name);
      }
      document.getElementById('name-setup').style.display = 'none';
      document.getElementById('game').style.display = 'flex';
      updateTurn();
    }

    function updateTurn() {
      const currentPlayer = players[currentPlayerIndex];
      document.getElementById('turn-indicator').innerText = `ğŸ’š ${currentPlayer} ì°¨ë¡€ì…ë‹ˆë‹¤!`;
      document.getElementById('question-main').innerText = '';
      document.getElementById('sub-question').innerText = '';
      document.getElementById('nextButton').style.display = 'none';
      document.getElementById('reshuffleButton').style.display = 'none';
      document.getElementById('finishButton').style.display = 'inline-block';
      const card = document.getElementById('questionCard');
      card.classList.remove('flipped');
      card.querySelector('.card-front p').innerText = 'ì§ˆë¬¸ì„ ë½‘ì•„ ì£¼ì„¸ìš” ğŸ’«';
    }

    function revealCard() {
      const card = document.getElementById('questionCard');
      if (card.classList.contains('flipped')) return;
      card.classList.add('flipped');
      const availableQuestions = questions.filter(q => !usedQuestions.includes(q));
      let q = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
      if (!q) q = questions[Math.floor(Math.random() * questions.length)];
      usedQuestions.push(q);
      document.getElementById('question-main').innerText = q.main;
      document.getElementById('sub-question').innerText = q.sub;
      document.getElementById('nextButton').style.display = 'inline-block';
      document.getElementById('reshuffleButton').style.display = 'inline-block';
    }

    function reshuffleQuestion() {
      const availableQuestions = questions.filter(q => !usedQuestions.includes(q));
      let q = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
      if (!q) q = questions[Math.floor(Math.random() * questions.length)];
      usedQuestions.push(q);
      document.getElementById('question-main').innerText = q.main;
      document.getElementById('sub-question').innerText = q.sub;
    }

    function nextPlayer() {
      currentPlayerIndex++;
      if (currentPlayerIndex >= players.length) currentPlayerIndex = 0;
      updateTurn();
    }

    function finishRound() {
      const card = document.getElementById('questionCard');
      card.classList.add('flipped');
      document.getElementById('turn-indicator').innerText = 'ğŸ’Œ ëŒì•„ê°€ë©° ëŒ€ë‹µí•´ì£¼ì„¸ìš” ğŸ’Œ';
      document.getElementById('question-main').innerText = 'ì˜¤ëŠ˜ ì´ ìˆœê°„, ê°€ì¡±ì—ê²Œ í•œë§ˆë”” í•œë‹¤ë©´?';
      document.getElementById('sub-question').innerText = 'ê·¸ ë§ì„ ê¼­ ì „í•˜ê³  ì‹¶ì€ ì´ìœ ëŠ”?';
      document.getElementById('nextButton').style.display = 'none';
      document.getElementById('reshuffleButton').style.display = 'none';
    }
  </script>
</body>
</html>
